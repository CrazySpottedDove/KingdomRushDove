# Kingdom-Rush Dove 版

该版本还在活跃开发阶段，因此暂时不提供打包文件。想要启动本游戏，请在 Kingdom Rush 文件夹双击 launch.bat。

## 快捷键说明

- 1 火雨
- 2 援军
- 4 1/2 倍速，再次按下还原
- 5 2 倍速，再次按下还原
- a 英雄 1
- d 英雄 2
- s 英雄 3
- q 英雄 4
- r 英雄 5
- w 下一波
- f 调集所有援军

## 安全事项

本改版由于双英雄机制，修改了原有存档的数据结构。因此，如果和本改版同时共享原版的存档文件，会导致原版打开时蓝屏。因此，应尽量选择为本改版使用一个特定的存档。

当然，由于使用 love 启动，存档大多数情况下应该会与您的电脑上的其它版本隔离。

## 存档

为了便于游玩，在该文档同级目录下提供了全解锁存档 `slot_2.lua`。

您自己的存档可以在本文档同级目录提供的快捷方式 `存档位置` 中查询。

## 注意事项

目前游戏语言只支持简体中文，选择其它语言可能导致游戏崩溃！

## 修改详情

### UI 调整

- 英雄殿堂可以选择两名英雄。
- 添加了不可能难度。
- 点击 Rush 键切换地图。
- 点击单位显示信息进行了补充，现在会同时显示近战伤害、远程伤害/第二近战伤害、物理护甲、法术护甲
- 伤害图标做了修改，具体如下：
    - 近战物理伤害：剑
    - 远程物理伤害/刺伤：箭
    - 枪伤：枪
    - 炮伤：火球
    - 法伤/法术爆炸伤害：法球
    - 残伤：灰色三角
    - 真伤：金色十字架
- 点击已经升级的科技，可以直接撤销该科技
- 点击兵营士兵，可以直接调整集结点

### 全局调整

- 添加枪伤，具有 30% 穿甲。
- 添加法术爆炸伤害，具有 50% 法穿。
- 添加刺伤，对低甲敌人效果显著，高甲敌人衰减严重。
- 添加残伤，具 50% 穿甲。
- 可以同时看到敌人和士兵的近战和远程攻击伤害、物抗和法抗。
- 所有塔都使用一代科技。
- 所有可调集单位都接受兵营科技。
- 增伤效果对所有伤害基本都生效。
- 范围 buff 对兵营调集范围生效。
- 增伤 buff 对兵营士兵生效。
- 减 cd buff 对所有防御塔技能、士兵的近战、远程攻击生效，且对于兵营士兵生效。
- 沉默对远程攻击、亡语、特殊技能、光环均生效。
- 所有佣兵塔均允许士兵复活。
- 所有传送限制距离均与近战索敌范围一致。
- 龙可以低头。
- 所有友方单位的生命恢复均为略低于一代恢复速度。
- 所有看起来是法伤的地方单位除原为真伤外均调整为法伤。
- 所有法球都可以吃到一代法术科技的减抗和减速科技。伤害较低的法球减抗效果也降低。
- 援兵可调集。
- 所有爆炸伤害、法术爆炸、残伤对高甲敌人的无视护甲能力略微减少，对低甲敌人则略微提升。
- 所有防御塔也采用解锁机制，只要解锁了，即可在任何关卡使用。
- 一、二、三代初始关卡在一开始均开放。
- 添加嘲讽词条。拥有嘲讽词条的单位会优先被远程攻击索敌。憎恶、大猩猩均拥有嘲讽词条。
- 所有箭塔会优先攻击空军。

### 英雄平衡

基本调整：数值、技能 cd，移速，此处不做详细赘述。

- 三代英雄将终极技能也抽成了一般的技能。由于无法直接选择释放位置，补偿了 20% 冷却。终极技能的索敌基本可以保证智能。

- 所有英雄采用了一代机制，即每局游戏均需要从 0 级开始升级。

- 使用了双英雄机制。

一些英雄的机制性调整：

#### 一代英雄

- 小公主：真伤分裂箭允许多余箭矢对单一目标释放。使用箭矢速度的动画效果暗示了总伤。召唤猫咪期间为无敌状态。
- 爵士：添加召唤紫骑士（可调集）协助拦截的技能；鼓舞对所有友方单位都生效，且提升双抗。
- 博林：优化地雷索敌，消灭了单体地雷现象；有概率一次普攻组进行额外的普攻，并且该普攻组每次都造成最高伤害。普攻为枪伤。近战索敌范围减小。
- 马利克：普攻、群伤概率眩晕；获取经验的机制从技能固定经验改为和技能造成总伤相关。
- 小马哥：分身可以使用奥术风暴。
- 火男：普攻概率附带烧伤 dot。添加毒免。
- 雷神：添加攻速成长。触发雷电时加快雷电之锤冷却。可以参与雷电的传导，恢复生命并提升雷电的最大传导数和传导范围。
- 熊人：第二种普攻动画附带旋风斩效果，获取经验和总伤相关。优化了技能衔接，现在变熊状态下先祖召唤冷却好时，会补偿变身冷却，优先退出巨熊形态释放先祖召唤。先祖可调集。
- 钢锯：普攻削减敌人护甲。攻击高护甲敌人时，加快弹射锯子的冷却。
- 鬼侍：每当受到伤害，加快全部技能的冷却。血量越低，攻击力和抗性越高。剑阵对恶魔的伤害额外提高。
- 冰女：冰锥替换成法术爆炸伤害。
- 天十：单发火球伤害降低，但是火球数量增加。当处于巨人形态时，如果调集至较远的地方，则会先退出巨人形态并传送，且补偿冷却。如果处于巨人形态时火雨完成冷却，则优先退出巨人形态并使用火雨，并返还冷却。天十退出巨人形态的后摇减少，且退出巨人形态时保持无敌。
- 迪纳斯：buff 范围扩大，且可对兵营使用。投石可主动对空。

#### 二代英雄

- 沙王：连斩改为真伤，释放频率提升。沙兵数量上限提升至 4。在远距离移动时，沙王会化作沙卷风，快速支援战场。沙兵死亡后，其灵魂会回归沙王，为沙王提供沙兵 10% 生命的恢复和减少当前连斩 10% 的冷却。
- 幻影：拦截期间可以远程攻击。可以闪避远程攻击。闪避后恢复一定生命值，并加快全部技能冷却。移除了提升攻击范围的被动技能，改为提高伤害。
- 女巫：骷髅数增加，死亡光环效果提升。获得骷髅的条件改为任何敌军单位或任何可以变成骷髅的友方单位死亡。巫毒魔法的索敌个数随等级提升。
- 兽王：可以召唤能够闪避近战攻击的狼。添加毒免。最多可以召唤 4 只狼或野猪。
- 船长：酒桶可主动对空。
- 纽维斯：升级时检查法塔数量，根据法塔数量获得额外伤害加成和技能加成。大幅减少传送前后摇。
- 石头人：添加伤害格挡。伤害提升效果改为逐渐掉落。肘击机制优化。巨石允许主动对空。嘲讽。
- 沙塔：复活速度大幅提升。亡语附带眩晕，且可获得经验。升级刷新技能cd。飞镖附带减速效果，净化协议附带眩晕效果。
- 武僧：升级刷新技能cd。出招速度大大加快。闪避冷却大大降低，成长性提高。优化了出招顺序。普攻 1 添加减甲 10% 效果，普攻 2 降低虎型拳和蛇形拳 1 秒冷却，普攻 3 降低豹形拳和龙形拳 1 秒冷却，虎型拳附带 30 点生命恢复，龙形拳添加无敌帧，主动对空释放。当库绍连续进行攻击时，释放普攻和蛇形拳、虎型拳的速度会加快，最高提升 40%。
- 牛头：旋风斩附带吸血。冲锋刷新旋风斩冷却。传送刷新怒吼和旋风斩冷却。
- 螃蟹：蹲下后受击恢复生命。水泡允许主动对空，且具有小量范围成长。弹簧钳子可以对单体使用。嘲讽。加快水炮的攻击速度。螃蟹遁地前摇、后摇减小，且遁地时持续加速，最高加速到 260 点。当移速超过 160 时，出土附带范围眩晕和与移速相关的炮伤，并获得经验。该效果有 6 秒内置冷却。
- 猴子：神怒阶段无敌。毒免。神怒火焰带有伤害，且神怒期间移动会返还一定额度的神怒冷却。减少了筋斗云的前后摇。猴掌造成混合伤害，且在使用时，减少神怒 4 秒冷却。
- 奶妈：护甲增幅对低甲单位提升，高甲单位衰减，且提升双抗。治疗可以对自己生效。加伤可以对兵营释放，并作用于兵营的士兵。减少了传送的前后摇。
- 卢克蕾齐娅：击杀叠层提升全属性和技能冷却速度。飞行常驻。吸血附带流血效果。
- 但丁：圣水炸弹群体沉默。普攻为枪伤。
- 鲁林：添加技能：大地之力，鲁林短暂巨人化，恢复生命值，进行势大力沉的攻击，期间无敌，造成大范围真实伤害和眩晕，冷却 25 秒。
- 火龙：捕食对无法秒杀的敌人触发时，如果触发了秒杀，改为造成 2 倍伤害。恢复烟尘造成伤害的效果。

#### 三代英雄

- 艾莉丹：闪避减少跳斩 0.8 秒冷却。跳斩不会被闪避动画打断（闪避依旧生效）。跳斩无法被闪避。近战期间可以使用连射技能。
- 艾里矾：拦截时可以进行远程攻击。石盾存在期间提升普攻伤害，并免疫控制。石盾被击碎时加快技能冷却。近战和远程普攻有 20% 概率恢复石盾(对 boss 概率减半)。
- 熊猫：治疗消除自身全部 debuff，期间伤害提升。咆哮可对自己生效。传送常驻。治疗期间普攻概率加快所有技能冷却。非治疗期间普攻概率加快酒的冷却。技能期间添加无敌帧。
- 树人：传送前后摇降低。友方单位受伤时会主动释放生命恢复。
- 雷格森：添加技能：影袭，连续多次闪现到随机目标处，施展刃舞，造成范围伤害，冷却 36 秒，中途打断返还部分冷却。
- 莉莉丝：近战/远程攻击会提升下次复活的概率。复活刷新技能 cd。可以通过消耗复活保护来消除异常效果，并刷新技能 cd。下次复活的概率越高，大招与范围攻击的释放频率越高，秒杀的触发概率越高。远程攻击速度下调，伤害提升，以使远程攻击时可以恢复生命。当敌人数量大于 1 时，大招必为火雨，否则为天使。触发秒杀攻击时，刷新灵魂吞噬，并恢复少量生命。莉莉丝的复活保护数值体现在她的透明度上。当复活保护低时，莉莉丝呈半透明状。复活保护高，乃至百分百时，莉莉丝完全不透明，且镰刀泛金色。
- 林恩：减抗改为群体减抗，侧重减法抗，并会削减法抗一定比例的物抗。爆炸的伤害略微降低，但是可以传染。概率免疫伤害对于任何伤害均生效。
- 杜拉斯：分身伤害为本体的 80%，但是可以使用蓝水晶之牙。添加免毒。
- 卫兹南：奥术新星为法术爆炸伤害。减少了传送前后摇。大恶魔可调集。
- 瑞格：布偶只有受到一定伤害后才会还原。
- 布鲁斯：原来仅对流血单位触发的被动现在对中毒单位也可触发。流血触发概率翻倍，伤害略微下降。怒吼对象变多，且可主动对空释放。
- 波尔维克：怒吼附带烧伤效果，重击改为残伤。重击和怒吼均附带恢复已损生命值效果。生命值越低，全技能冷却越快。
- 凤凰：生命成长改为负值。
- 浮士德：液烟可以双向传递。龙枪总伤提升，也改为类似普攻的尿分叉。传送可造成伤害。
- 迪纳斯：大招冷却随升级加快，召唤的骑士可调集。照相动作可打断，并返还部分 cd。吃鸡腿动作可打断，且吃完鸡腿有 8 秒的伤害翻倍 buff。

#### 五代英雄

- 安雅：区分射击状态。进入射击状态时，持续进行射击，不再重复站起和趴下。银白风暴期间，保持无敌。打断银白风暴时，返还一定冷却。除了主动释放大招外，添加一个两倍冷却的死亡被动，如果死亡时，场上没有但丁的魂灵，但丁的魂灵会出现，将安雅复活。修复了但丁的魂灵攻击伤害为物伤的问题。允许调动但丁的魂灵。在同时携带但丁和安雅时，安雅的大招效果替换为提升自身的攻击力，死亡的复活被动依旧生效。
- 塞莉恩：空间撕裂效果改为提升防御塔攻击范围、攻速和伤害。添加黑耀庇护的冷却成长。虚空囚笼效果与高冷同步。为星界镜像添加了生命值成长，修复了星界镜像生成位置过前的问题。

### 防御塔平衡

#### 箭塔

- 游侠：毒箭升级费用下降。藤曼解锁费用下降。
- 火枪：狙击添加技能特效，解锁价格上调，秒杀概率下降，优先锁定血量最高敌人，可以攻击 boss。霰弹略微下调价格，主动对空，智能索敌，且可对较远敌人释放，此时冷却加快，伤害降低，扩散增强。普攻为枪伤。
- 弩堡：buff 可以提升防御塔攻速。连射升级时优化索敌稳定性。连射为枪伤。优化连射技能冷却机制。
- 图腾：沉默图腾智能索敌，冷却略微加快。虚弱图腾智能索敌，尽量覆盖较多敌人。
- 蓝箭：攻击法抗敌人可以降低爆裂箭冷却。睡眠箭价格下调，改成概率释放，睡眠箭伤害更高。睡眠箭技能升级可以使爆裂箭也概率附带催眠效果。爆裂箭会尽可能覆盖最多敌人。普攻箭矢和睡眠箭矢改为混伤(物伤 50%，法伤 50%)
- 红箭：血色审判从秒杀改为高额伤害，概率提升。猎人印记可对boss使用，且红箭优先攻击被标记敌人，攻击被标记敌人时触发血色审判概率提升。
- 海盗：添加鹦鹉数量上限，鹦鹉攻击附带晕眩。普攻为枪伤。
- 矮人：酒桶随机索敌。普攻为枪伤。

#### 法塔

- 黄法：攻击下调，攻速、范围上升（总伤增加），价格下调。石头人具有嘲讽，且受到秒杀时，改为受到最大生命值 70% 的伤害。
- 紫法：秒杀低生命值单位时加快冷却，该效果受技能等级、游戏难度影响。提升传送范围，且传送能造成伤害。优化了紫法的普攻与技能衔接逻辑和手感。秒杀就绪时添加特效。秒杀可对boss使用。
- 日光塔：小范围攻击高额法伤。杀死敌人时加快冷却，并获得额外经济。可以手动或自动释放。
- 大法：攻击改为准备球-攻击。法球上限改为 5，每次准备随机准备 1-5 个法球。法球攻击附带削法抗，且会根据敌人血量进行转火。攻击已死亡敌人时，临界质量依旧生效。解锁临界质量后，附带临界质量的法球索敌会尽量覆盖最多的敌人。临界质量为法术爆炸伤害。学习龙卷风技能能够提升准备法球的概率。
- 死灵：瘟疫升级提升骷髅数量上限。死骑 buff 随死骑等级提升。
- 高冷：小球改为被动。原小球技能改为群体加伤。空间裂缝不再手下留情，且被困住的敌人依旧可以被命中。尿分叉数量上升至5，大幅削弱小球和普攻伤害。
- 狂法：合理化沉默的价格。改为伤害衰减而不是叠加。升级爆炸可以降低爆炸冷却。
- 仙女龙：概率晶化范围内敌人。仙女龙攻击有伤害。仙女龙上限提升至 3。

#### 炮塔

- 大贝沙：优化技能衔接。加快技能冷却。技能附带眩晕。提升普攻伤害和范围。群簇轰炸主动对空。
- 电塔：下调裸塔价格，提升静电价格。
- 地震：岩浆可以被范围增幅。秒杀价格下降。下调裸塔价格，提升熔岩价格。钻头只会对血量高于 1000 的敌人释放。
- 高达：导弹升级上限上升至 3。
- 黑暗熔炉：提升弹射数量；多个熔炉同时攻击一个单位不会丢失伤害。
- 大树：普攻智能索敌。火果子冷却下调，伤害下调。保留普攻减速。优化普攻与技能衔接。
- 大德：普攻智能索敌，优化熊的属性和复活速度，诅咒数值和冷却均降低，优先对普攻溅射范围内血量最高敌人使用。保留普攻减速。

#### 兵营

兵营调集范围获得升级成长。四级兵营价格下调。

- 圣骑：等肉度血量提升护甲降低。拥有法抗。神圣打击附带范围沉默。
- 野蛮人：四人。双斧技能替换野蛮人全攻击为残伤。
- 精灵游侠：技能一：概率射出可减速的、伤害更高的真伤箭；技能二：攻击附带流血效果。技能三：4人。游侠近战期间可以远程索敌。
- 刺客：偷钱技能收益增加。有概率闪避远程攻击。偷袭期间的闪避依旧有效，但是不会被闪避打断。受到秒杀时，改为受到 50% 最大生命值的伤害。
- 圣殿：受到异常效果时使用圣杯解控（如解除火焰）。攻击提升下一次复活概率。动脉打击触发概率翻倍。
- 女战士：毒免。技能一：旋风斩；技能二：提升数值，击杀提升全属性，死亡后击杀累积清零。技能三：4人。
- 海盗：技能一：每隔一段时间额外掷出范围更大、伤害更高、附带烧伤的酒瓶；技能二：提升攻速；技能三：4人。
- 灯神：毒免，普攻为法伤。技能一：限伤秒杀；技能二：伤害和晕眩；技能三：4人。
- 矮人：4人。每次普攻加快酒的冷却。秘银锤技能降低伤害加成，但提高攻速加成。
- 红兵：提升攻速效果同时对剑舞冷却生效。
- 绿兵：在身边友军受伤时主动使用生命之环。
- 伊渥克：技能一：提升护甲；技能二：提升格挡时间和生命恢复；技能三：投索伤害提高，附带削甲。投索为刺伤。伊渥克士兵近战时可以远程索敌。
- 变节者：近战同时可以远程索敌。
- 小火龙：暂无调整。

### 难度

不可能难度不一定比老兵难度难。老兵难度数值更低，但是经济限制和英雄发育限制更强。

#### 敌人

- 生命值：1.2-1.5-1.5-1.8(空军为 1.15-1.375-1.375-1.6)
- 速度：1.2-1.2-1.25-1.25
- 金币：1.0-1.0-0.9(向下取整！)-1.0
- 远程冷却：1.0-0.9-0.9-0.8
- 特殊攻击冷却: 1.0-0.9-0.9-0.7
- 基础护甲系数：0-0-0.1-0.1
- 部分敌人之间添加了联动 buff 机制。
- 不可能难度下，血量较高的大怪对于秒杀有一定抗性。
- 不可能难度下，从第 7 波开始，每到下一波，所有敌人的生命上限都会提升 1.67%。
- 老兵难度下，7-9 波内每小波的间隔减少 12%，10-12 波内每小波的间隔减少 24%，13-15 波内每小波的间隔减少 36%。
- 所有 boss 单位对削甲具有一定抗性。
- 所有 boss 单位对增伤具有一定抗性。

#### 防御塔

- 价格：1-1-1.05-1

#### 英雄

- 升级速度：1-0.75-0.65-0.75

#### 特殊敌人明细

- 毁灭者：无甲->高甲，傀儡头的召唤数量会随召唤次数提升。
- 傀儡头：无甲->高甲。
- 黑暗屠杀者：每次攻击恢复已损生命值的 4%。
- 雪怪：移速提升。
- 巨魔勇士：真伤斧头->残伤斧头，基础数值增加。
- 巨魔首领：可以增益巨魔粉碎者。
- 骷髅骑士：为身边的骷髅提供 20% 减伤增益。
- 死灵法师：为召唤的骷髅提供 20% 减伤增益，死亡后失效。
- 大雪怪：吃掉单位后恢复 100 点生命。
- 熔岩元素：50% 雷电抗性，不导电。
- 维兹南：无法抗->中法抗。
- **巨蛛主母**：生产巨型蜘蛛。
- 萨雷格兹：生产萨雷格兹之子，其生命百分比和萨雷格兹一致。无法抗->中法抗。
- 兽人勇士：半血后移速提升，攻击附带流血。
- 座狼骑兵：下马后的兽人勇士移速较高。半血后，兽人勇士移速下降，但是提升免伤。
- 森林巨魔：免疫眩晕。
- 古拉克：无法抗->低法抗。
- 绿泥树怪：无甲->高甲。
- 阿古克汗：无甲->中甲。
- 摩洛克：无法抗->中法抗。
- 猛毒爬行者：攻击附带毒素。小蜘蛛同。
- 沼泽巨人：远程攻击物伤->炮伤。
- 侵袭者：远程攻击真伤->炮伤，基础数值提升。
- 强夺者：物伤->法伤。
- 死魂骑士：加伤 buff 对骷髅和骷髅骑士生效。
- 憎恶；血量提升，但是对法伤有 -50% 抗性。持续使身边的僵尸恢复生命。死亡爆炸伤害真伤->炮伤。具有嘲讽词条。
- 各种恶魔：死亡爆炸伤害->物伤。
- 布莱克本：高甲->极甲。
- **邪尸法师**：召唤僵尸，并可以牺牲僵尸的生命召唤憎恶。
- 各种萨满可以互相加 buff，萨满可以为大猩猩添加 buff。
- 大猩猩：拥有嘲讽词条。
- **狂怒萨满**：为身边的野蛮人们添加加快移速和攻击力的 buff。
- 吸血鬼夫人：高法甲->极高法甲。
- 西兹：捶地只对地面单位生效。
- 嗨嘿恩哈：无甲->高甲。
- 巴杰尼蒙：无甲->低甲。
- 炎魔领主：无甲->高甲。
- 暮光精灵不受暮光复仇者爆炸伤害影响。
- 暮光鞭笞者对暮光精灵不造成伤害。
- 暮光召唤师对暮光精灵的恢复效果翻倍，且多个暮光召唤师的恢复效果可以叠加。
- 暮光骚扰者受到的削甲效果降低 60%。
- 暮光复仇者受到的削甲效果降低 40%。
- 暮光召唤师受到的削甲效果降低 60%。
- 玛丽西娅：带有一个可以被沉默的法术护盾，护盾存在时，提高玛丽西娅的减伤。

## 补丁配置

考虑到不同玩家的游玩喜好，特提供了补丁配置，包含了出怪、金币与英雄强度的一系列可调整选项。

在存放本说明的同级目录下，你可以找到 `patches` 文件夹。其中的 `default.lua` 记录了默认配置。

如果需要自定义配置，请在 `patches` 文件夹中创建 `config.lua`，并将 `default.lua` 中的内容复制过来，最后按照自己的喜好修改 `config.lua`。

这个配置不需要重新打开游戏。修改配置后，进入相应关卡，配置即生效。
